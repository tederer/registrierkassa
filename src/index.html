<!doctype html>
<html>
<head>
<script type="text/javascript" src="common/namespace.js"></script>
<script type="text/javascript" src="common/infrastructure/bus/Bus.js"></script>
<script type="text/javascript" src="common/infrastructure/connections/Connection.js"></script>
<script type="text/javascript" src="common/infrastructure/connections/SocketIoConnection.js"></script>
<script type="text/javascript" src="client/cash.js"></script>
<script type="text/javascript" src="client/cash.customer.js"></script>
<script type="text/javascript" src="client/cash.product.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script>
   function initialize() {
      var cnt = 0;
      
      var bus = new common.infrastructure.bus.Bus();
      bus.subscribe('heartbeat', function(data) { console.log(data); } );
      var connection = new common.infrastructure.connections.SocketIoConnection(io());
      
      setInterval(function() { bus.publish('heartbeat', cnt++); }, 1000);
   }
</script>
</head>

<body onload="javascript:initialize()">
Client test
</body>
</html>